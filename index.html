<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.ddong.online","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="DT&#39;s Blog">
<meta property="og:url" content="https://blog.ddong.online/index.html">
<meta property="og:site_name" content="DT&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Damon Tung">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.ddong.online/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>DT's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9595118903442497"
     crossorigin="anonymous"></script>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">DT's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/mql-enovia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/mql-enovia/" class="post-title-link" itemprop="url">MQL 快捷键</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 18:19:07 / Modified: 18:21:12" itemprop="dateCreated datePublished" datetime="2021-11-02T18:19:07+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Enovia/" itemprop="url" rel="index"><span itemprop="name">Enovia</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Using-Control-Characters"><a href="#Using-Control-Characters" class="headerlink" title="Using Control Characters"></a>Using Control Characters</h1><p>All editing commands are control characters which are entered by holding the Ctrl or Esc key while typing another key, as listed in the following table. All editing commands operate from any place on the line, not just at the beginning of the line.</p>
<p><em>Command Line Editing Control Characters</em></p>
<table>
<thead>
<tr>
<th>Control Character</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Ctrl-A</td>
<td>Moves the cursor to the beginning of the line.</td>
</tr>
<tr>
<td>Ctrl-B</td>
<td>Moves the cursor to the left (back) one column.</td>
</tr>
<tr>
<td>Esc-B</td>
<td>Moves the cursor back one word.</td>
</tr>
<tr>
<td>Ctrl-D</td>
<td>Deletes the character to the right of the cursor.</td>
</tr>
<tr>
<td>Ctrl-E</td>
<td>Moves the cursor to the end of the line.</td>
</tr>
<tr>
<td>Ctrl-F</td>
<td>Moves the cursor right (forward) one column.</td>
</tr>
<tr>
<td>Esc-F</td>
<td>Moves the cursor forward one word.</td>
</tr>
<tr>
<td>Ctrl-H</td>
<td>Deletes the character to the left of the cursor.</td>
</tr>
<tr>
<td>Ctrl-I</td>
<td>Jumps to the next tab stop.</td>
</tr>
<tr>
<td>Ctrl-J</td>
<td>Returns the current line.</td>
</tr>
<tr>
<td>Ctrl-K</td>
<td>Kills from the cursor to the end of the line (see Ctrl-Y).</td>
</tr>
<tr>
<td>Ctrl-L</td>
<td>Redisplays the current line.</td>
</tr>
<tr>
<td>Ctrl-M</td>
<td>Returns the current line.</td>
</tr>
<tr>
<td>Ctrl-N</td>
<td>Fetches the next line from the history list.</td>
</tr>
<tr>
<td>Ctrl-O</td>
<td>Toggles the overwrite/insert mode, initially in insert mode.</td>
</tr>
<tr>
<td>Ctrl-P</td>
<td>Fetches the previous line from the history list.</td>
</tr>
<tr>
<td>Ctrl-R</td>
<td>Begins a reverse incremental search through the history list. Each printing character typed adds to the search substring (which is empty initially). MQL finds and displays the first matching location. Typing Ctrl-R again marks the current starting location and begins a new search for the current substring.</td>
</tr>
<tr>
<td>Type Ctrl-H</td>
<td>Or press the Del key to delete the last character from the search string. MQL restarts the search from the last starting location.Repeated Ctrl-H or Del characters, therefore, unwind the search to the match nearest to the point where you last typed Ctrl-R or Ctrl-S (described below).Type Esc or any other editing character to accept the current match and terminate the search.</td>
</tr>
<tr>
<td>Type Ctrl-H</td>
<td>Or press the Del key until the search string is empty to reset the start of the search to the beginning of the history list. Type Esc or any other editing character to accept the current match and terminate the search.</td>
</tr>
<tr>
<td>Ctrl-S</td>
<td>Begins a forward incremental search through the history list. The behavior is like Ctrl-R but in the opposite direction through the history list.</td>
</tr>
<tr>
<td>Ctrl-T</td>
<td>Transposes the current and previous character.</td>
</tr>
<tr>
<td>Ctrl-U</td>
<td>Kills the entire line (see Ctrl-Y).</td>
</tr>
<tr>
<td>Ctrl-Y</td>
<td>Yanks the previously killed text back at the current location.Backspace Deletes the character left of the cursor.</td>
</tr>
<tr>
<td>Del</td>
<td>Deletes the character right of the cursor.</td>
</tr>
<tr>
<td>Return</td>
<td>Returns the current line.</td>
</tr>
<tr>
<td>Tab</td>
<td>Jumps to the next tab stop.</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/check-disk-space-linx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/check-disk-space-linx/" class="post-title-link" itemprop="url">检查Linux 磁盘空间</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 18:17:03 / Modified: 18:17:52" itemprop="dateCreated datePublished" datetime="2021-11-02T18:17:03+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="How-to-check-disk-space"><a href="#How-to-check-disk-space" class="headerlink" title="How to check disk space"></a>How to check disk space</h1><p>Start by tracking down where the excess usage is being stored. If you have no idea, start from the mountpoint for /dev/sda1:</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount <span class="string">| grep sda1</span></span><br></pre></td></tr></table></figure>
<p>Use the du command. If /dev/sda1 is mounted on / (“root”):</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">du</span> --<span class="comment">max</span><span class="literal">-</span><span class="comment">depth=1</span> --<span class="comment">human</span><span class="literal">-</span><span class="comment">readable</span> <span class="comment">/</span> <span class="comment">|</span> <span class="comment">sort</span> --<span class="comment">human</span><span class="literal">-</span><span class="comment">numeric</span><span class="literal">-</span><span class="comment">sort</span></span><br></pre></td></tr></table></figure>
<p>This will list the first level of directories contained in the specified path, in order from smallest to largest. You can increase the depth past 1 to get details of the subdirectories, or change the path to specify a single directory. You can also use the short flags.</p>
<p>For instance, if your username is ubuntu and you want to inspect your home directory:</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -d1 -h <span class="regexp">/home/u</span>buntu | <span class="keyword">sort</span> -h</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/lsof-linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/lsof-linux/" class="post-title-link" itemprop="url">lsof_linux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 18:15:16 / Modified: 18:16:02" itemprop="dateCreated datePublished" datetime="2021-11-02T18:15:16+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="lsof-一切皆文件"><a href="#lsof-一切皆文件" class="headerlink" title="lsof 一切皆文件"></a>lsof 一切皆文件</h1><p>lsof（list open files）是一个查看当前系统文件的工具。在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。如传输控制协议 (TCP) 和用户数据报协议 (UDP) 套接字等，系统在后台都为该应用程序分配了一个文件描述符，该文件描述符提供了大量关于这个应用程序本身的信息。</p>
<p>lsof打开的文件可以是：</p>
<pre><code>普通文件
目录
网络文件系统的文件
字符或设备文件
(函数)共享库
管道，命名管道
符号链接
网络文件（例如：NFS file、网络socket，unix域名socket）
还有其它类型的文件，等等
</code></pre>
<ol>
<li>命令参数<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-a 列出打开文件存在的进程</span></span><br><span class="line"><span class="deletion">-c&lt;进程名&gt; 列出指定进程所打开的文件</span></span><br><span class="line"><span class="deletion">-g 列出GID号进程详情</span></span><br><span class="line"><span class="deletion">-d&lt;文件号&gt; 列出占用该文件号的进程</span></span><br><span class="line"><span class="addition">+d&lt;目录&gt; 列出目录下被打开的文件</span></span><br><span class="line"><span class="addition">+D&lt;目录&gt; 递归列出目录下被打开的文件</span></span><br><span class="line"><span class="deletion">-n&lt;目录&gt; 列出使用NFS的文件</span></span><br><span class="line"><span class="deletion">-i&lt;条件&gt; 列出符合条件的进程。（4、6、协议、:端口、 @ip ）</span></span><br><span class="line"><span class="deletion">-p&lt;进程号&gt; 列出指定进程号所打开的文件</span></span><br><span class="line"><span class="deletion">-u 列出UID号进程详情</span></span><br><span class="line"><span class="deletion">-h 显示帮助信息</span></span><br><span class="line"><span class="deletion">-v 显示版本信息</span></span><br></pre></td></tr></table></figure></li>
<li>使用实例<br>实例1：无任何参数<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$lsof| more</span><br><span class="line">COMMAND     PID      USER   FD      TYPE             DEVICE SIZE/OFF       NODE NAME</span><br><span class="line">init         <span class="number"> 1 </span>     root  cwd       DIR              253,0    <span class="number"> 4096 </span>        <span class="number"> 2 </span>/</span><br><span class="line">init         <span class="number"> 1 </span>     root  rtd       DIR              253,0    <span class="number"> 4096 </span>        <span class="number"> 2 </span>/</span><br><span class="line">init         <span class="number"> 1 </span>     root  txt       REG              253,0  <span class="number"> 150352 </span>  <span class="number"> 1310795 </span>/sbin/init</span><br><span class="line">init         <span class="number"> 1 </span>     root  mem       REG              253,0   <span class="number"> 65928 </span>  <span class="number"> 5505054 </span>/lib64/libnss_files-2.12.so</span><br><span class="line">init         <span class="number"> 1 </span>     root  mem       REG              253,0 <span class="number"> 1918016 </span>  <span class="number"> 5521405 </span>/lib64/libc-2.12.so</span><br><span class="line">init         <span class="number"> 1 </span>     root  mem       REG              253,0   <span class="number"> 93224 </span>  <span class="number"> 5521440 </span>/lib64/libgcc_s-4.4.6-20120305.so.1</span><br><span class="line">init         <span class="number"> 1 </span>     root  mem       REG              253,0   <span class="number"> 47064 </span>  <span class="number"> 5521407 </span>/lib64/librt-2.12.so</span><br><span class="line">init         <span class="number"> 1 </span>     root  mem       REG              253,0  <span class="number"> 145720 </span>  <span class="number"> 5521406 </span>/lib64/libpthread-2.12.so</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
说明：</li>
</ol>
<p>lsof输出各列信息的意义如下：</p>
<ul>
<li><p>COMMAND：进程的名称</p>
</li>
<li><p>PID：进程标识符</p>
</li>
<li><p>PPID：父进程标识符（需要指定-R参数）</p>
</li>
<li><p>USER：进程所有者</p>
</li>
<li><p>PGID：进程所属组</p>
</li>
<li><p>FD：文件描述符，应用程序通过文件描述符识别该文件。如cwd、txt等:</p>
<blockquote>
<p>  （1）cwd：表示current work dirctory，即：应用程序的当前工作目录，这是该应用程序启动的目录，除非它本身对这个目录进行更改<br>  （2）txt ：该类型的文件是程序代码，如应用程序二进制文件本身或共享库，如上列表中显示的 /sbin/init 程序<br>  （3）lnn：library references (AIX);<br>  （4）er：FD information error (see NAME column);<br>  （5）jld：jail directory (FreeBSD);<br>  （6）ltx：shared library text (code and data);<br>  （7）mxx ：hex memory-mapped type number xx.<br>  （8）m86：DOS Merge mapped file;<br>  （9）mem：memory-mapped file;<br>  （10）mmap：memory-mapped device;<br>  （11）pd：parent directory;<br>  （12）rtd：root directory;<br>  （13）tr：kernel trace file (OpenBSD);<br>  （14）v86  VP/ix mapped file;<br>  （15）0：表示标准输入<br>  （16）1：表示标准输出<br>  （17）2：表示标准错误<br>  一般在标准输出、标准错误、标准输入后还跟着文件状态模式：r、w、u等<br>  （1）u：表示该文件被打开并处于读取/写入模式<br>  （2）r：表示该文件被打开并处于只读模式<br>  （3）w：表示该文件被打开并处于<br>  （4）空格：表示该文件的状态模式为unknow，且没有锁定<br>  （5）-：表示该文件的状态模式为unknow，且被锁定<br>  同时在文件状态模式后面，还跟着相关的锁<br>  （1）N：for a Solaris NFS lock of unknown type;<br>  （2）r：for read lock on part of the file;<br>  （3）R：for a read lock on the entire file;<br>  （4）w：for a write lock on part of the file;（文件的部分写锁）<br>  （5）W：for a write lock on the entire file;（整个文件的写锁）<br>  （6）u：for a read and write lock of any length;<br>  （7）U：for a lock of unknown type;<br>  （8）x：for an SCO OpenServer Xenix lock on part      of the file;<br>  （9）X：for an SCO OpenServer Xenix lock on the      entire file;<br>  （10）space：if there is no lock.</p>
</blockquote>
</li>
<li><p>TYPE：文件类型，如DIR、REG等，常见的文件类型:</p>
<blockquote>
<p>   （1）DIR：表示目录<br>  （2）CHR：表示字符类型<br>  （3）BLK：块设备类型<br>  （4）UNIX： UNIX 域套接字<br>  （5）FIFO：先进先出 (FIFO) 队列<br>  （6）IPv4：网际协议 (IP) 套接字</p>
</blockquote>
</li>
<li><p>DEVICE：指定磁盘的名称</p>
</li>
<li><p>SIZE：文件的大小</p>
</li>
<li><p>NODE：索引节点（文件在磁盘上的标识）</p>
</li>
<li><p>NAME：打开文件的确切名称</p>
</li>
</ul>
<p>实例2：查找某个文件相关的进程</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$lsof</span> <span class="regexp">/bin/</span>bash</span><br><span class="line">COMMAND     PID USER  FD   TYPE DEVICE SIZE/OFF    NODE NAME</span><br><span class="line">mysqld_sa  <span class="number">2169</span> root txt    REG  <span class="number">253</span>,<span class="number">0</span>   <span class="number">938736</span> <span class="number">4587562</span> <span class="regexp">/bin/</span>bash</span><br><span class="line">ksmtuned   <span class="number">2334</span> root txt    REG  <span class="number">253</span>,<span class="number">0</span>   <span class="number">938736</span> <span class="number">4587562</span> <span class="regexp">/bin/</span>bash</span><br><span class="line">bash      <span class="number">20121</span> root txt    REG  <span class="number">253</span>,<span class="number">0</span>   <span class="number">938736</span> <span class="number">4587562</span> <span class="regexp">/bin/</span>bash</span><br></pre></td></tr></table></figure>
<p>实例3：列出某个用户打开的文件信息</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -u username</span></span><br></pre></td></tr></table></figure>
<p>-u 选项，u是user的缩写</p>
<p>实例4：列出某个程序进程所打开的文件信息</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -c mysql</span></span><br></pre></td></tr></table></figure>
<p>-c 选项将会列出所有以mysql这个进程开头的程序的文件，其实你也可以写成 </p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof <span class="string">| grep mysql</span></span><br></pre></td></tr></table></figure>
<p>但是第一种方法明显比第二种方法要少打几个字符；<br>实例5：列出某个用户以及某个进程所打开的文件信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$lsof</span>  -u <span class="built_in">test</span> -c mysql</span><br></pre></td></tr></table></figure>
<p>实例6：通过某个进程号显示该进程打开的文件</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -p 11968</span></span><br></pre></td></tr></table></figure>
<p>实例7：列出所有的网络连接</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -i</span></span><br></pre></td></tr></table></figure>
<p>实例8：列出所有tcp 网络连接信息</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -i tcp</span></span><br></pre></td></tr></table></figure>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$lsof -n -i tcp</span><br><span class="line">COMMAND     PID  <span class="keyword">USER</span>   <span class="title">FD</span>   <span class="keyword">TYPE</span>  DEVICE SIZE/OFF <span class="keyword">NODE</span> <span class="title">NAME</span></span><br><span class="line">svnserve  <span class="number">11552</span> weber    <span class="number">3</span>u  IPv4 <span class="number">3799399</span>      <span class="number">0</span>t0  TCP *:svn (LISTEN)</span><br><span class="line">redis-ser <span class="number">25501</span> weber    <span class="number">4</span>u  IPv4  <span class="number">113150</span>      <span class="number">0</span>t0  TCP <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">6379</span> (LISTEN)</span><br></pre></td></tr></table></figure>
<p>实例9：列出谁在使用某个端口</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -i :3306</span></span><br></pre></td></tr></table></figure>
<p>实例10：列出某个用户的所有活跃的网络端口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$lsof</span> -a -u <span class="built_in">test</span> -i</span><br></pre></td></tr></table></figure>
<p>实例11：根据文件描述列出对应的文件信息</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$lsof</span> -d description(like 2)</span></span><br></pre></td></tr></table></figure>
<p>示例:</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$lsof</span> -d <span class="number">3</span> | grep PARSER1</span><br><span class="line">tail      <span class="number">6499</span> tde    <span class="number">3</span>r   REG    <span class="number">253</span>,<span class="number">3</span>   <span class="number">4514722</span>     <span class="number">417798</span> <span class="regexp">/opt/</span>applog<span class="regexp">/open/</span>log/HOSTPARSER1_ERROR_141217.log.<span class="number">001</span></span><br></pre></td></tr></table></figure>
<p>说明： 0表示标准输入，1表示标准输出，2表示标准错误，从而可知：所以大多数应用程序所打开的文件的 FD 都是从 3 开始<br>实例12：列出被进程号为1234的进程所打开的所有IPV4 network files</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$lsof</span> -<span class="selector-tag">i</span> <span class="number">4</span> -<span class="selector-tag">a</span> -<span class="selector-tag">p</span> <span class="number">1234</span></span><br></pre></td></tr></table></figure>
<p>实例13：列出目前连接主机nf5260i5-td上端口为：20，21，80相关的所有文件信息，且每隔3秒重复执行</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lsof</span> -i @nf<span class="number">5260</span>i<span class="number">5</span>-td:<span class="number">20</span>,<span class="number">21</span>,<span class="number">80</span> -r <span class="number">3</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/mxType-in-Enovia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/mxType-in-Enovia/" class="post-title-link" itemprop="url">mxType_in_Enovia</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 18:05:07 / Modified: 18:07:21" itemprop="dateCreated datePublished" datetime="2021-11-02T18:05:07+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Enovia/" itemprop="url" rel="index"><span itemprop="name">Enovia</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="mxType"><a href="#mxType" class="headerlink" title="mxType"></a>mxType</h2><blockquote>
<p>framework.jar</p>
</blockquote>
<p>Static Method List </p>
<h3 id="isOfParentType"><a href="#isOfParentType" class="headerlink" title="isOfParentType"></a>isOfParentType</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* var0 - context</span></span><br><span class="line"><span class="comment">* var1 - sub type need to check</span></span><br><span class="line"><span class="comment">* var2 - parent type </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="keyword">boolean</span> isOfParentType(Context var0, <span class="keyword">String</span> var1, <span class="keyword">String</span> var2) throws FrameworkException &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (var1.equals(var2)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">String</span> var3 = <span class="string">&quot;derivative[&quot;</span> + var1 + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">                <span class="keyword">String</span> var4 = MqlUtil.mqlCommand(var0, <span class="string">&quot;print type <span class="subst">$1</span> select <span class="subst">$2</span> dump&quot;</span>, <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;var2, var3&#125;);</span><br><span class="line">                <span class="keyword">return</span> var4.equalsIgnoreCase(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> var5) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> FrameworkException(var5);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="getAttributes"><a href="#getAttributes" class="headerlink" title="getAttributes"></a>getAttributes</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* var0 - current context</span></span><br><span class="line"><span class="comment">* var1 - type name</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">public static MapList get<span class="constructor">Attributes(Context <span class="params">var0</span>, String <span class="params">var1</span>)</span> throws FrameworkException &#123;</span><br><span class="line">        return get<span class="constructor">Attributes(<span class="params">var0</span>, <span class="params">var1</span>, <span class="params">false</span>)</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="getAttributes-1"><a href="#getAttributes-1" class="headerlink" title="getAttributes"></a>getAttributes</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* var0 - context</span></span><br><span class="line"><span class="comment">* var1 - type name</span></span><br><span class="line"><span class="comment">* var2 - if attribute is multiline</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"> public static MapList get<span class="constructor">Attributes(Context <span class="params">var0</span>, String <span class="params">var1</span>, <span class="params">boolean</span> <span class="params">var2</span>)</span> throws FrameworkException &#123;</span><br><span class="line">        AttributeType var3 = null;</span><br><span class="line">        MapList var4 = <span class="keyword">new</span> <span class="constructor">MapList()</span>;</span><br><span class="line">        <span class="built_in">int</span> var5 = <span class="number">0</span>;</span><br><span class="line">        String var6 = <span class="string">&quot;type&quot;</span>;</span><br><span class="line">        String var7 = <span class="string">&quot;name&quot;</span>;</span><br><span class="line">        String var8 = <span class="string">&quot;description&quot;</span>;</span><br><span class="line">        String var9 = <span class="string">&quot;default&quot;</span>;</span><br><span class="line">        String var10 = <span class="string">&quot;choices&quot;</span>;</span><br><span class="line">        String var11 = <span class="string">&quot;multiline&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="module-access"><span class="module"><span class="identifier">ContextUtil</span>.</span></span>start<span class="constructor">Transaction(<span class="params">var0</span>, <span class="params">false</span>)</span>;</span><br><span class="line">            Vault var12 = var0.get<span class="constructor">Vault()</span>;</span><br><span class="line">            BusinessType var13 = <span class="keyword">new</span> <span class="constructor">BusinessType(<span class="params">var1</span>, <span class="params">var12</span>)</span>;</span><br><span class="line">            var13.<span class="keyword">open</span>(var0);</span><br><span class="line">            BusinessTypeList var14 = <span class="module-access"><span class="module"><span class="identifier">BusinessType</span>.</span></span>get<span class="constructor">BusinessTypes(<span class="params">var0</span>)</span>;</span><br><span class="line">            BusinessTypeItr var15 = <span class="keyword">new</span> <span class="constructor">BusinessTypeItr(<span class="params">var14</span>)</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">                BusinessType var16;</span><br><span class="line">                <span class="keyword">do</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!var15.next<span class="literal">()</span>) &#123;</span><br><span class="line">                        var13.close(var0);</span><br><span class="line">                        <span class="module-access"><span class="module"><span class="identifier">ContextUtil</span>.</span></span>commit<span class="constructor">Transaction(<span class="params">var0</span>)</span>;</span><br><span class="line">                        return var4;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    var16 = var15.obj<span class="literal">()</span>;</span><br><span class="line">                &#125; <span class="keyword">while</span>(!var16.<span class="keyword">to</span><span class="constructor">String()</span>.equals(var1));</span><br><span class="line"></span><br><span class="line">                var16.<span class="keyword">open</span>(var0);</span><br><span class="line">                AttributeTypeList var17 = var16.get<span class="constructor">AttributeTypes(<span class="params">var0</span>)</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(AttributeTypeItr var18 = <span class="keyword">new</span> <span class="constructor">AttributeTypeItr(<span class="params">var17</span>)</span>; var18.next<span class="literal">()</span>; ++var5) &#123;</span><br><span class="line">                    HashMap var19 = <span class="keyword">new</span> <span class="constructor">HashMap()</span>;</span><br><span class="line">                    var3 = var18.obj<span class="literal">()</span>;</span><br><span class="line">                    var3.<span class="keyword">open</span>(var0);</span><br><span class="line">                    var19.put(var7, var3.<span class="keyword">to</span><span class="constructor">String()</span>);</span><br><span class="line">                    var19.put(var6, var3.get<span class="constructor">DataType()</span>);</span><br><span class="line">                    var19.put(var8, var3.get<span class="constructor">Description()</span>);</span><br><span class="line">                    var19.put(var9, var3.get<span class="constructor">DefaultValue()</span>);</span><br><span class="line">                    var19.put(var10, var3.get<span class="constructor">Choices()</span>);</span><br><span class="line">                    <span class="keyword">if</span> (var2) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="string">&quot;string&quot;</span>.equals<span class="constructor">IgnoreCase(<span class="params">var3</span>.<span class="params">getDataType</span>()</span>)) &#123;</span><br><span class="line">                            String var20 = <span class="module-access"><span class="module"><span class="identifier">MqlUtil</span>.</span></span>mql<span class="constructor">Command(<span class="params">var0</span>, <span class="string">&quot;print attribute $1 select $2 dump&quot;</span>, <span class="params">new</span> String[]&#123;<span class="params">var3</span>.<span class="params">toString</span>()</span>, <span class="string">&quot;multiline&quot;</span>&#125;);</span><br><span class="line">                            var19.put(var11, var20);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            var19.put(var11, <span class="string">&quot;false&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    var3.close(var0);</span><br><span class="line">                    var4.add(var5, var19);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                var16.close(var0);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception var21) &#123;</span><br><span class="line">            <span class="module-access"><span class="module"><span class="identifier">ContextUtil</span>.</span></span>abort<span class="constructor">Transaction(<span class="params">var0</span>)</span>;</span><br><span class="line">            throw <span class="keyword">new</span> <span class="constructor">FrameworkException(<span class="params">var21</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="getDefaultPolicy"><a href="#getDefaultPolicy" class="headerlink" title="getDefaultPolicy"></a>getDefaultPolicy</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* var0 - context</span></span><br><span class="line"><span class="comment">* var1 - business type</span></span><br><span class="line"><span class="comment">* var2 - if true means query policy for Person otherwise false</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"> public static Map get<span class="constructor">DefaultPolicy(Context <span class="params">var0</span>, String <span class="params">var1</span>, <span class="params">boolean</span> <span class="params">var2</span>)</span> throws FrameworkException &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Map var3 = null;</span><br><span class="line">            MapList var4 = get<span class="constructor">Policies(<span class="params">var0</span>, <span class="params">var1</span>, <span class="params">var2</span>)</span>;</span><br><span class="line">            <span class="keyword">if</span> (!var4.is<span class="constructor">Empty()</span>) &#123;</span><br><span class="line">                var3 = (Map)var4.get(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return var3;</span><br><span class="line">        &#125; catch (Exception var5) &#123;</span><br><span class="line">            throw <span class="keyword">new</span> <span class="constructor">FrameworkException(<span class="params">var5</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"> public static MapList get<span class="constructor">Policies(Context <span class="params">var0</span>, String <span class="params">var1</span>, <span class="params">boolean</span> <span class="params">var2</span>)</span> throws MatrixException &#123;</span><br><span class="line">        MapList var3 = <span class="keyword">new</span> <span class="constructor">MapList()</span>;</span><br><span class="line">        BusinessType var4 = <span class="keyword">new</span> <span class="constructor">BusinessType(<span class="params">var1</span>, <span class="params">var0</span>.<span class="params">getVault</span>()</span>);</span><br><span class="line">        var4.<span class="keyword">open</span>(var0);</span><br><span class="line">        PolicyList var5 = null;</span><br><span class="line">        <span class="keyword">if</span> (var2) &#123;</span><br><span class="line">            var5 = var4.get<span class="constructor">PoliciesForPerson(<span class="params">var0</span>, <span class="params">false</span>)</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            var5 = var4.get<span class="constructor">Policies(<span class="params">var0</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Iterator var7 = var5.iterator<span class="literal">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(var7.has<span class="constructor">Next()</span>) &#123;</span><br><span class="line">            Policy var6 = (Policy)var7.next<span class="literal">()</span>;</span><br><span class="line">            var6.<span class="keyword">open</span>(var0);</span><br><span class="line">            HashMap var8 = <span class="keyword">new</span> <span class="constructor">HashMap()</span>;</span><br><span class="line">            var8.put(<span class="string">&quot;name&quot;</span>, var6.get<span class="constructor">Name()</span>);</span><br><span class="line">            var8.put(<span class="string">&quot;description&quot;</span>, var6.get<span class="constructor">Description(<span class="params">var0</span>)</span>);</span><br><span class="line">            var8.put(<span class="string">&quot;revision&quot;</span>, var6.get<span class="constructor">FirstInSequence()</span>);</span><br><span class="line">            String var9 = <span class="module-access"><span class="module"><span class="identifier">MqlUtil</span>.</span></span>mql<span class="constructor">Command(<span class="params">var0</span>, <span class="string">&quot;print Policy $1 select $2 dump $3&quot;</span>, <span class="params">new</span> String[]&#123;<span class="params">var6</span>.<span class="params">getName</span>()</span>, <span class="string">&quot;format&quot;</span>, <span class="string">&quot;|&quot;</span>&#125;);</span><br><span class="line">            String var10 = <span class="module-access"><span class="module"><span class="identifier">MqlUtil</span>.</span></span>mql<span class="constructor">Command(<span class="params">var0</span>, <span class="string">&quot;print Policy $1 select $2 dump $3&quot;</span>, <span class="params">new</span> String[]&#123;<span class="params">var6</span>.<span class="params">getName</span>()</span>, <span class="string">&quot;defaultformat&quot;</span>, <span class="string">&quot;|&quot;</span>&#125;);</span><br><span class="line">            String var11 = <span class="module-access"><span class="module"><span class="identifier">MqlUtil</span>.</span></span>mql<span class="constructor">Command(<span class="params">var0</span>, <span class="string">&quot;print Policy $1 select $2 dump $3&quot;</span>, <span class="params">new</span> String[]&#123;<span class="params">var6</span>.<span class="params">getName</span>()</span>, <span class="string">&quot;store&quot;</span>, <span class="string">&quot;|&quot;</span>&#125;);</span><br><span class="line">            StringList var12 = <span class="module-access"><span class="module"><span class="identifier">FrameworkUtil</span>.</span></span>split(var9, <span class="string">&quot;|&quot;</span>);</span><br><span class="line">            var8.put(<span class="string">&quot;formats&quot;</span>, var12);</span><br><span class="line">            var8.put(<span class="string">&quot;defaultFormat&quot;</span>, var10);</span><br><span class="line">            var8.put(<span class="string">&quot;store&quot;</span>, var11);</span><br><span class="line">            var6.close(var0);</span><br><span class="line">            var3.add(var8);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return var3;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/Oracle-PDB-and-CDB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/Oracle-PDB-and-CDB/" class="post-title-link" itemprop="url">Oracle_PDB_and_CDB</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 17:59:07 / Modified: 18:03:19" itemprop="dateCreated datePublished" datetime="2021-11-02T17:59:07+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Pretty-Sqlplus-Output"><a href="#Pretty-Sqlplus-Output" class="headerlink" title="Pretty Sqlplus Output"></a>Pretty Sqlplus Output</h2><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> lines <span class="comment">256</span>;</span><br><span class="line"><span class="keyword">set</span> trimout <span class="comment">on</span>;</span><br><span class="line"><span class="keyword">set</span> tab <span class="comment">off</span>;</span><br><span class="line"><span class="keyword">set</span> pagesize <span class="comment">100</span>;</span><br><span class="line"><span class="keyword">set</span> colsep <span class="comment">&quot; | &quot;</span>;</span><br><span class="line">COLUMN column_name FORMAT <span class="keyword">model</span>;</span><br></pre></td></tr></table></figure>

<h2 id="switch-PDB"><a href="#switch-PDB" class="headerlink" title="switch PDB"></a>switch PDB</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">session</span> <span class="keyword">set</span> container = PDB_NAME;</span><br></pre></td></tr></table></figure>

<h2 id="Conn-to-CDB-from-PDB"><a href="#Conn-to-CDB-from-PDB" class="headerlink" title="Conn to CDB from PDB"></a>Conn to CDB from PDB</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER SESSION <span class="builtin-name">SET</span> <span class="attribute">CONTAINER</span>=cdb$root;</span><br></pre></td></tr></table></figure>

<h2 id="Open-PDB"><a href="#Open-PDB" class="headerlink" title="Open PDB"></a>Open PDB</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> pluggable <span class="keyword">database</span> PDB_NAME <span class="keyword">open</span>;</span><br><span class="line"><span class="keyword">alter</span> pluggable <span class="keyword">database</span> <span class="keyword">all</span> <span class="keyword">open</span>;</span><br></pre></td></tr></table></figure>
<h2 id="Auto-Open-PDB-when-CDB-restart"><a href="#Auto-Open-PDB-when-CDB-restart" class="headerlink" title="Auto Open PDB when CDB restart"></a>Auto Open PDB when CDB restart</h2><ol>
<li>Create trigger at CDB<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> open_all_pdbs</span><br><span class="line">  <span class="keyword">AFTER</span> STARTUP <span class="keyword">ON</span> <span class="keyword">DATABASE</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">EXECUTE</span> <span class="keyword">IMMEDIATE</span> ‘<span class="keyword">ALTER</span> PLUGGABLE <span class="keyword">DATABASE</span> <span class="keyword">ALL</span> <span class="keyword">OPEN</span>’;</span><br><span class="line"><span class="keyword">END</span> ;</span><br><span class="line">/</span><br></pre></td></tr></table></figure>
<h2 id="Create-unlimited-bigfile-tablespace"><a href="#Create-unlimited-bigfile-tablespace" class="headerlink" title="Create unlimited bigfile tablespace"></a>Create unlimited bigfile tablespace</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> BIGFILE <span class="keyword">TABLESPACE</span> &quot;NSNPR_DATA&quot; DATAFILE <span class="string">&#x27;D:/datafiles/NSNPR/NSNPR_tvc_index.dbf&#x27;</span> SIZE <span class="number">100</span>M REUSE AUTOEXTEND <span class="keyword">ON</span> NEXT <span class="number">3</span>G MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT <span class="keyword">LOCAL</span> SEGMENT SPACE MANAGEMENT AUTO ;</span><br></pre></td></tr></table></figure>
<h2 id="Create-user-and-grant-privilege"><a href="#Create-user-and-grant-privilege" class="headerlink" title="Create user and grant privilege"></a>Create user and grant privilege</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> NSNPR IDENTIFIED <span class="keyword">BY</span> XXXXX</span><br><span class="line">  <span class="keyword">default</span> <span class="keyword">tablespace</span> NSNPR_DATA</span><br><span class="line">  <span class="keyword">temporary</span> <span class="keyword">tablespace</span> <span class="keyword">TEMP</span></span><br><span class="line">  profile <span class="keyword">DEFAULT</span>;</span><br><span class="line"><span class="comment">-- Grant/Revoke role privileges </span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">connect</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> resource <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="comment">-- Grant/Revoke system privileges </span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">database</span> link <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="built_in">public</span> <span class="keyword">database</span> link <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">view</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> query rewrite <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">any</span> <span class="keyword">dictionary</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">any</span> <span class="keyword">table</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> unlimited <span class="keyword">tablespace</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">connect</span> <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> resource <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> DATAPUMP_IMP_FULL_DATABASE <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> dba <span class="keyword">to</span> NSNPR;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">any</span> <span class="keyword">index</span> <span class="keyword">to</span> NSNPR;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Create-Directory"><a href="#Create-Directory" class="headerlink" title="Create Directory"></a>Create Directory</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="built_in">replace</span> directory EXPDP_1</span><br><span class="line"> <span class="keyword">as</span> <span class="string">&#x27;D:\dump&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="Impdp-with-multi-dump-file"><a href="#Impdp-with-multi-dump-file" class="headerlink" title="Impdp with multi dump file"></a>Impdp with multi dump file</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">impdp</span> IMP_User/Pass@pdborcl directory=expdp_<span class="number">1</span> dumpfile=expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">01</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">02</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">03</span>.dmp,	expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">04</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">05</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">06</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">07</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">08</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">09</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">10</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">11</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">12</span>.dmp,expdp_nsnpr_DB_<span class="number">15092020</span>_<span class="number">13</span>.dmp full=y table_exists_action=replace logfile=NSNPR-import-%date:~<span class="number">4</span>,<span class="number">2</span>%-%date:~<span class="number">7</span>,<span class="number">2</span>%-%date:~<span class="number">10</span>,<span class="number">4</span>%.log LOGTIME=<span class="literal">ALL</span> METRICS=Y version=<span class="number">12</span>.<span class="number">2</span></span><br></pre></td></tr></table></figure>
<h2 id="Resize-tablespace"><a href="#Resize-tablespace" class="headerlink" title="Resize tablespace"></a>Resize tablespace</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span>space TABLESPACE_NAME resize <span class="number">100</span>G;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/loadRepository-and-modify-table-and-field/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/loadRepository-and-modify-table-and-field/" class="post-title-link" itemprop="url">loadRepository_and_modify_table_and_field</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 17:53:21 / Modified: 17:55:19" itemprop="dateCreated datePublished" datetime="2021-11-02T17:53:21+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="LoadRepository"><a href="#LoadRepository" class="headerlink" title="LoadRepository"></a>LoadRepository</h2><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sap.mdm.examples;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.commands.AuthenticateRepositorySessionCommand;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.commands.CommandException;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.commands.CreateRepositorySessionCommand;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.commands.DestroySessionCommand;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.net.ConnectionException;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.net.ConnectionPool;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.net.ConnectionPoolFactory;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.repository.commands.LoadRepositoryCommand;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.server.DBMSType;</span><br><span class="line"><span class="keyword">import</span> com.sap.mdm.server.RepositoryIdentifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Copyright Â© 2004-2006 by SAP AG.</span></span><br><span class="line"><span class="comment"> * All Rights Reserved.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * SAP, R/3, mySAP, mySAP.com, xApps, xApp, SAP NetWeaver, and other SAP</span></span><br><span class="line"><span class="comment"> * products and services mentioned herein as well as their respective logos are</span></span><br><span class="line"><span class="comment"> * trademarks or registered trademarks of SAP AG in Germany and in several other</span></span><br><span class="line"><span class="comment"> * countries all over the world. All other product and service names mentioned</span></span><br><span class="line"><span class="comment"> * are the trademarks of their respective companies. Data contained in this</span></span><br><span class="line"><span class="comment"> * document serves informational purposes only. National product specifications</span></span><br><span class="line"><span class="comment"> * may vary.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * These materials are subject to change without notice. These materials are</span></span><br><span class="line"><span class="comment"> * provided by SAP AG and its affiliated companies (SAP Group) for informational</span></span><br><span class="line"><span class="comment"> * purposes only, without representation or warranty of any kind, and SAP Group</span></span><br><span class="line"><span class="comment"> * shall not be liable for errors or omissions with respect to the materials.</span></span><br><span class="line"><span class="comment"> * The only warranties for SAP Group products and services are those that are</span></span><br><span class="line"><span class="comment"> * set forth in the express warranty statements accompanying such products and</span></span><br><span class="line"><span class="comment"> * services, if any. Nothing herein should be construed as constituting an</span></span><br><span class="line"><span class="comment"> * additional warranty.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This example demonstrates loading a repository. The steps are:</span></span><br><span class="line"><span class="comment"> * &lt;ol&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Establishes connection with the MDM server&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Creates a repository session for the targeted repository&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Authenticates the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Loads the repository&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Destroys the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment"> * Commands used:&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;AuthenticateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;LoadRepositoryCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;DestroySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;a href=&quot;LoadRepository.java&quot;&gt;Source code for LoadRepository.java&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoadRepository</span> </span>&#123;        </span><br><span class="line">    <span class="keyword">private</span> LoadRepository() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        <span class="comment">// create connection pool</span></span><br><span class="line">        <span class="keyword">String</span> connectionTag = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        ConnectionPool connections = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connections = ConnectionPoolFactory.getInstance(connectionTag);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ConnectionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// alternatively, a repository identifier can be obtain from the GetMountedRepositoryListCommand  </span></span><br><span class="line">        RepositoryIdentifier reposId = <span class="keyword">new</span> <span class="type">RepositoryIdentifier</span>(<span class="string">&quot;EmptyRepos&quot;</span>, <span class="string">&quot;LOCALHOST&quot;</span>, DBMSType.MS_SQL);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create repository session</span></span><br><span class="line">        CreateRepositorySessionCommand sessionCommand = <span class="keyword">new</span> <span class="type">CreateRepositorySessionCommand</span>(connections);</span><br><span class="line">        sessionCommand.setRepositoryIdentifier(reposId);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sessionCommand.execute();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CommandException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;        </span><br><span class="line">        <span class="keyword">String</span> sessionId = sessionCommand.getRepositorySession();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// authenticate the repository session</span></span><br><span class="line">        <span class="keyword">String</span> userName = <span class="string">&quot;Admin&quot;</span>;</span><br><span class="line">        <span class="keyword">String</span> userPassword = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        AuthenticateRepositorySessionCommand authCommand = <span class="keyword">new</span> <span class="type">AuthenticateRepositorySessionCommand</span>(connections);</span><br><span class="line">        authCommand.setSession(sessionId);</span><br><span class="line">        authCommand.setUserName(userName);</span><br><span class="line">        authCommand.setUserPassword(userPassword);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            authCommand.execute();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CommandException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// load the repository</span></span><br><span class="line">        LoadRepositoryCommand loadReposCommand = <span class="keyword">new</span> <span class="type">LoadRepositoryCommand</span>(connections);</span><br><span class="line">        loadReposCommand.setSession(sessionId);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            loadReposCommand.execute();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CommandException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// finally destroy the repository session</span></span><br><span class="line">        DestroySessionCommand destroySessionCommand = <span class="keyword">new</span> <span class="type">DestroySessionCommand</span>(connections);</span><br><span class="line">        destroySessionCommand.setSession(sessionId);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            destroySessionCommand.execute();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CommandException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;                </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Create-Table"><a href="#Create-Table" class="headerlink" title="Create Table"></a>Create Table</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line">package com.sap.mdm.examples;</span><br><span class="line"></span><br><span class="line">import java.util.Locale;</span><br><span class="line"></span><br><span class="line">import com.sap.mdm.commands.AuthenticateRepositorySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.CommandException;</span><br><span class="line">import com.sap.mdm.commands.CreateRepositorySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.DestroySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.GetRepositoryRegionListCommand;</span><br><span class="line">import com.sap.mdm.data.MultilingualString;</span><br><span class="line">import com.sap.mdm.data.RegionProperties;</span><br><span class="line">import com.sap.mdm.data.RegionalString;</span><br><span class="line">import com.sap.mdm.net.ConnectionException;</span><br><span class="line">import com.sap.mdm.net.ConnectionPool;</span><br><span class="line">import com.sap.mdm.net.ConnectionPoolFactory;</span><br><span class="line">import com.sap.mdm.schema.TableProperties;</span><br><span class="line">import com.sap.mdm.schema.commands.CreateTableCommand;</span><br><span class="line">import com.sap.mdm.schema.commands.GetTableListCommand;</span><br><span class="line">import com.sap.mdm.server.DBMSType;</span><br><span class="line">import com.sap.mdm.server.RepositoryIdentifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Copyright Â© 2004-2006 by SAP AG.</span></span><br><span class="line"><span class="comment"> * All Rights Reserved.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * SAP, R/3, mySAP, mySAP.com, xApps, xApp, SAP NetWeaver, and other SAP</span></span><br><span class="line"><span class="comment"> * products and services mentioned herein as well as their respective logos are</span></span><br><span class="line"><span class="comment"> * trademarks or registered trademarks of SAP AG in Germany and in several other</span></span><br><span class="line"><span class="comment"> * countries all over the world. All other product and service names mentioned</span></span><br><span class="line"><span class="comment"> * are the trademarks of their respective companies. Data contained in this</span></span><br><span class="line"><span class="comment"> * document serves informational purposes only. National product specifications</span></span><br><span class="line"><span class="comment"> * may vary.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * These materials are subject to change without notice. These materials are</span></span><br><span class="line"><span class="comment"> * provided by SAP AG and its affiliated companies (SAP Group) for informational</span></span><br><span class="line"><span class="comment"> * purposes only, without representation or warranty of any kind, and SAP Group</span></span><br><span class="line"><span class="comment"> * shall not be liable for errors or omissions with respect to the materials.</span></span><br><span class="line"><span class="comment"> * The only warranties for SAP Group products and services are those that are</span></span><br><span class="line"><span class="comment"> * set forth in the express warranty statements accompanying such products and</span></span><br><span class="line"><span class="comment"> * services, if any. Nothing herein should be construed as constituting an</span></span><br><span class="line"><span class="comment"> * additional warranty.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This example demonstrates creating a new table for a repository. The steps</span></span><br><span class="line"><span class="comment"> * are:</span></span><br><span class="line"><span class="comment"> * &lt;ol&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Establish connection with the MDM server&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Create a repository session for the targeted repository&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Authenticate the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Create the new table&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Destroy the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment"> * Commands used:&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;AuthenticateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetTableListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetRepositoryRegionListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateTableCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;DestroySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;a href=&quot;CreateTable.java&quot;&gt;Source code for CreateTable.java&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="keyword">class</span> CreateTable &#123; </span><br><span class="line">    <span class="keyword">private</span> <span class="constructor">CreateTable()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a multi-lingual string based on the list of regions.</span></span><br><span class="line"><span class="comment">     * @param regionPropertiesList the list of regions</span></span><br><span class="line"><span class="comment">     * @param baseString the base string</span></span><br><span class="line"><span class="comment">     * @return a multi-lingual string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> static MultilingualString create<span class="constructor">MultilingualString(RegionProperties[] <span class="params">regionPropertiesList</span>, String <span class="params">baseString</span>)</span> &#123;</span><br><span class="line">        MultilingualString mlString = <span class="keyword">new</span> <span class="constructor">MultilingualString()</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; regionPropertiesList.length; i++) &#123;</span><br><span class="line">            Locale locale = regionPropertiesList<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">Locale()</span>;</span><br><span class="line">            String regionCode = regionPropertiesList<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">RegionCode()</span>;</span><br><span class="line">            String <span class="built_in">string</span> = baseString + <span class="string">&quot;_&quot;</span> + locale.get<span class="constructor">Language()</span> + <span class="string">&quot;_&quot;</span> + locale.get<span class="constructor">Country()</span>;</span><br><span class="line">            RegionalString regionalString = <span class="keyword">new</span> <span class="constructor">RegionalString(<span class="params">string</span>, <span class="params">regionCode</span>)</span>;</span><br><span class="line">            mlString.set(regionalString);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return mlString;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a flat lookup table.</span></span><br><span class="line"><span class="comment">     * @param regionPropertiesList the list of regions</span></span><br><span class="line"><span class="comment">     * @return a flat table</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> static TableProperties create<span class="constructor">FlatTable(RegionProperties[] <span class="params">regionPropertiesList</span>)</span> &#123;</span><br><span class="line">        MultilingualString tableName = create<span class="constructor">MultilingualString(<span class="params">regionPropertiesList</span>, <span class="string">&quot;NewTable&quot;</span> + System.<span class="params">currentTimeMillis</span>()</span>);</span><br><span class="line"></span><br><span class="line">        TableProperties table = <span class="keyword">new</span> <span class="constructor">TableProperties(TableProperties.FLAT)</span>;        </span><br><span class="line">        table.set<span class="constructor">Name(<span class="params">tableName</span>)</span>;</span><br><span class="line">        table.set<span class="constructor">Code(<span class="string">&quot;NewCode&quot;</span> + System.<span class="params">currentTimeMillis</span>()</span>);</span><br><span class="line">        table.set<span class="constructor">KeyMappable(<span class="params">true</span>)</span>;</span><br><span class="line">        table.set<span class="constructor">Description(<span class="string">&quot;&quot;</span>)</span>;</span><br><span class="line">        </span><br><span class="line">        return table;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String<span class="literal">[]</span> args) &#123;</span><br><span class="line">        <span class="comment">// create connection pool to a MDM server</span></span><br><span class="line">        String serverName = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        ConnectionPool connections = null;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connections = <span class="module-access"><span class="module"><span class="identifier">ConnectionPoolFactory</span>.</span></span>get<span class="constructor">Instance(<span class="params">serverName</span>)</span>;</span><br><span class="line">        &#125; catch (ConnectionException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// specify the repository to use</span></span><br><span class="line">        <span class="comment">// alternatively, a repository identifier can be obtain from the GetMountedRepositoryListCommand</span></span><br><span class="line">        String repositoryName = <span class="string">&quot;TestRepos&quot;</span>;</span><br><span class="line">        String dbmsName = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        RepositoryIdentifier reposId = <span class="keyword">new</span> <span class="constructor">RepositoryIdentifier(<span class="params">repositoryName</span>, <span class="params">dbmsName</span>, DBMSType.MS_SQL)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create a repository session</span></span><br><span class="line">        CreateRepositorySessionCommand sessionCommand = <span class="keyword">new</span> <span class="constructor">CreateRepositorySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        sessionCommand.set<span class="constructor">RepositoryIdentifier(<span class="params">reposId</span> )</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line">        String sessionId = sessionCommand.get<span class="constructor">RepositorySession()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// authenticate the repository session</span></span><br><span class="line">        String userName = <span class="string">&quot;Admin&quot;</span>;</span><br><span class="line">        String userPassword = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        AuthenticateRepositorySessionCommand authCommand = <span class="keyword">new</span> <span class="constructor">AuthenticateRepositorySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">UserName(<span class="params">userName</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">UserPassword(<span class="params">userPassword</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            authCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// retrieve the list of tables</span></span><br><span class="line">        <span class="comment">// this is useful for resolving conflicting table name the new table might create</span></span><br><span class="line">        GetTableListCommand tableListCommand = <span class="keyword">new</span> <span class="constructor">GetTableListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        tableListCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            tableListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;                </span><br><span class="line">        <span class="comment">// get change stamp</span></span><br><span class="line">        <span class="comment">// this is required when we make any kind of changes to the repository</span></span><br><span class="line">        <span class="built_in">int</span> changeStamp = tableListCommand.get<span class="constructor">ChangeStamp()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// retrieve the available regions (languages) for the repository</span></span><br><span class="line">        <span class="comment">// we need this to set up the table name for each region</span></span><br><span class="line">        GetRepositoryRegionListCommand getReposRegionListCommand = <span class="keyword">new</span> <span class="constructor">GetRepositoryRegionListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        getReposRegionListCommand.set<span class="constructor">RepositoryIdentifier(<span class="params">reposId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getReposRegionListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        RegionProperties<span class="literal">[]</span> regionPropertiesList = getReposRegionListCommand.get<span class="constructor">Regions()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// set up the table to create</span></span><br><span class="line">        TableProperties newTable = create<span class="constructor">FlatTable(<span class="params">regionPropertiesList</span>)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create the table on repository</span></span><br><span class="line">        CreateTableCommand createTableCommand = <span class="keyword">new</span> <span class="constructor">CreateTableCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        createTableCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        createTableCommand.set<span class="constructor">Table(<span class="params">newTable</span>)</span>;</span><br><span class="line">        createTableCommand.set<span class="constructor">InChangeStamp(<span class="params">changeStamp</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            createTableCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// finally destroy the session</span></span><br><span class="line">        DestroySessionCommand destroySessionCommand = <span class="keyword">new</span> <span class="constructor">DestroySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        destroySessionCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            destroySessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Create-Field"><a href="#Create-Field" class="headerlink" title="Create Field"></a>Create Field</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line">package com.sap.mdm.examples;</span><br><span class="line"></span><br><span class="line">import java.util.Locale;</span><br><span class="line"></span><br><span class="line">import com.sap.mdm.commands.AuthenticateRepositorySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.CommandException;</span><br><span class="line">import com.sap.mdm.commands.CreateRepositorySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.DestroySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.GetRepositoryRegionListCommand;</span><br><span class="line">import com.sap.mdm.data.MultilingualString;</span><br><span class="line">import com.sap.mdm.data.RegionProperties;</span><br><span class="line">import com.sap.mdm.data.RegionalString;</span><br><span class="line">import com.sap.mdm.ids.TableId;</span><br><span class="line">import com.sap.mdm.net.ConnectionException;</span><br><span class="line">import com.sap.mdm.net.ConnectionPool;</span><br><span class="line">import com.sap.mdm.net.ConnectionPoolFactory;</span><br><span class="line">import com.sap.mdm.schema.FieldKeywordType;</span><br><span class="line">import com.sap.mdm.schema.FieldProperties;</span><br><span class="line">import com.sap.mdm.schema.FieldSortType;</span><br><span class="line">import com.sap.mdm.schema.TableProperties;</span><br><span class="line">import com.sap.mdm.schema.commands.CreateFieldCommand;</span><br><span class="line">import com.sap.mdm.schema.commands.GetFieldListCommand;</span><br><span class="line">import com.sap.mdm.schema.commands.GetTableListCommand;</span><br><span class="line">import com.sap.mdm.schema.fields.FixedWidthTextFieldProperties;</span><br><span class="line">import com.sap.mdm.server.DBMSType;</span><br><span class="line">import com.sap.mdm.server.RepositoryIdentifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Copyright Â© 2004-2006 by SAP AG.</span></span><br><span class="line"><span class="comment"> * All Rights Reserved.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * SAP, R/3, mySAP, mySAP.com, xApps, xApp, SAP NetWeaver, and other SAP</span></span><br><span class="line"><span class="comment"> * products and services mentioned herein as well as their respective logos are</span></span><br><span class="line"><span class="comment"> * trademarks or registered trademarks of SAP AG in Germany and in several other</span></span><br><span class="line"><span class="comment"> * countries all over the world. All other product and service names mentioned</span></span><br><span class="line"><span class="comment"> * are the trademarks of their respective companies. Data contained in this</span></span><br><span class="line"><span class="comment"> * document serves informational purposes only. National product specifications</span></span><br><span class="line"><span class="comment"> * may vary.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * These materials are subject to change without notice. These materials are</span></span><br><span class="line"><span class="comment"> * provided by SAP AG and its affiliated companies (SAP Group) for informational</span></span><br><span class="line"><span class="comment"> * purposes only, without representation or warranty of any kind, and SAP Group</span></span><br><span class="line"><span class="comment"> * shall not be liable for errors or omissions with respect to the materials.</span></span><br><span class="line"><span class="comment"> * The only warranties for SAP Group products and services are those that are</span></span><br><span class="line"><span class="comment"> * set forth in the express warranty statements accompanying such products and</span></span><br><span class="line"><span class="comment"> * services, if any. Nothing herein should be construed as constituting an</span></span><br><span class="line"><span class="comment"> * additional warranty.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This example demonstrates creating a new field in the main table. The steps</span></span><br><span class="line"><span class="comment"> * are:</span></span><br><span class="line"><span class="comment"> * &lt;ol&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Establishes connection with server&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Creates a session for the targeted repository&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Authenticates the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Selects the main table&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Creates the new field&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Destroys the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment"> * Commands used:&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;AuthenticateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetTableListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetFieldListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetRepositoryRegionListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateFieldCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;DestroySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;a href=&quot;CreateField.java&quot;&gt;Source code for CreateField.java&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="keyword">class</span> CreateField &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="constructor">CreateField()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a multi-lingual string based on the list of regions.</span></span><br><span class="line"><span class="comment">     * @param regionPropertiesList the list of regions</span></span><br><span class="line"><span class="comment">     * @param baseString the base string</span></span><br><span class="line"><span class="comment">     * @return a multi-lingual string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> static MultilingualString create<span class="constructor">MultilingualString(RegionProperties[] <span class="params">regionPropertiesList</span>, String <span class="params">baseString</span>)</span> &#123;</span><br><span class="line">        MultilingualString mlString = <span class="keyword">new</span> <span class="constructor">MultilingualString()</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; regionPropertiesList.length; i++) &#123;</span><br><span class="line">            Locale locale = regionPropertiesList<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">Locale()</span>;</span><br><span class="line">            String regionCode = regionPropertiesList<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">RegionCode()</span>;</span><br><span class="line">            String <span class="built_in">string</span> = baseString + <span class="string">&quot;_&quot;</span> + locale.get<span class="constructor">Language()</span> + <span class="string">&quot;_&quot;</span> + locale.get<span class="constructor">Country()</span>;</span><br><span class="line">            RegionalString regionalString = <span class="keyword">new</span> <span class="constructor">RegionalString(<span class="params">string</span>, <span class="params">regionCode</span>)</span>;</span><br><span class="line">            mlString.set(regionalString);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return mlString;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a fixed-width field.</span></span><br><span class="line"><span class="comment">     * @param tableId the table from which the field will be create in</span></span><br><span class="line"><span class="comment">     * @param regionPropertiesList the list of regions</span></span><br><span class="line"><span class="comment">     * @return the new fixed-width field</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> static FixedWidthTextFieldProperties create<span class="constructor">FixedWidthField(TableId <span class="params">tableId</span>, RegionProperties[] <span class="params">regionPropertiesList</span>)</span> &#123;</span><br><span class="line">        MultilingualString fieldName = create<span class="constructor">MultilingualString(<span class="params">regionPropertiesList</span>, <span class="string">&quot;NewField&quot;</span> + System.<span class="params">currentTimeMillis</span>()</span>);</span><br><span class="line"></span><br><span class="line">        FixedWidthTextFieldProperties field = <span class="keyword">new</span> <span class="constructor">FixedWidthTextFieldProperties()</span>;</span><br><span class="line">        field.set<span class="constructor">TableId(<span class="params">tableId</span>)</span>;        </span><br><span class="line">        field.set<span class="constructor">Name(<span class="params">fieldName</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">Code(<span class="string">&quot;NewCode&quot;</span> + System.<span class="params">currentTimeMillis</span>()</span>);</span><br><span class="line">        field.set<span class="constructor">KeywordType(FieldKeywordType.NORMAL)</span>;        </span><br><span class="line">        field.set<span class="constructor">MultiLingual(<span class="params">true</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">ModifyOnce(<span class="params">true</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">Required(<span class="params">true</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">SortType(FieldSortType.CASE_SENSITIVE)</span>;</span><br><span class="line">        field.set<span class="constructor">Width(60)</span>;</span><br><span class="line">        field.set<span class="constructor">Description(<span class="string">&quot;&quot;</span>)</span>;</span><br><span class="line">     </span><br><span class="line">        return field;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public static void main(String<span class="literal">[]</span> args) &#123;</span><br><span class="line">        <span class="comment">// create connection pool to a MDM server</span></span><br><span class="line">        String serverName = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        ConnectionPool connections = null;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connections = <span class="module-access"><span class="module"><span class="identifier">ConnectionPoolFactory</span>.</span></span>get<span class="constructor">Instance(<span class="params">serverName</span>)</span>;</span><br><span class="line">        &#125; catch (ConnectionException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// specify the repository to use</span></span><br><span class="line">        <span class="comment">// alternatively, a repository identifier can be obtain from the GetMountedRepositoryListCommand  </span></span><br><span class="line">        String repositoryName = <span class="string">&quot;TestRepos&quot;</span>;</span><br><span class="line">        String dbmsName = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        RepositoryIdentifier reposId = <span class="keyword">new</span> <span class="constructor">RepositoryIdentifier(<span class="params">repositoryName</span>, <span class="params">dbmsName</span>, DBMSType.MS_SQL)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create a repository session</span></span><br><span class="line">        CreateRepositorySessionCommand sessionCommand = <span class="keyword">new</span> <span class="constructor">CreateRepositorySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        sessionCommand.set<span class="constructor">RepositoryIdentifier(<span class="params">reposId</span> )</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line">        String sessionId = sessionCommand.get<span class="constructor">RepositorySession()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// authenticate the repository session</span></span><br><span class="line">        String userName = <span class="string">&quot;Admin&quot;</span>;</span><br><span class="line">        String userPassword = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        AuthenticateRepositorySessionCommand authCommand = <span class="keyword">new</span> <span class="constructor">AuthenticateRepositorySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">UserName(<span class="params">userName</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">UserPassword(<span class="params">userPassword</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            authCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// retrieve the list of tables and pick the main table for creating a new field</span></span><br><span class="line">        GetTableListCommand tableListCommand = <span class="keyword">new</span> <span class="constructor">GetTableListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        tableListCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            tableListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;                </span><br><span class="line"></span><br><span class="line">        TableProperties mainTable = null;</span><br><span class="line">        TableProperties<span class="literal">[]</span> tables = tableListCommand.get<span class="constructor">Tables()</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; tables.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tables<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">Type()</span><span class="operator"> == </span>TableProperties.MAIN)</span><br><span class="line">                mainTable = tables<span class="literal">[<span class="identifier">i</span>]</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// retrieve the list of fields from the main table</span></span><br><span class="line">        <span class="comment">// this is useful for resolving conflicting field names the new field might create</span></span><br><span class="line">        GetFieldListCommand getFieldListCommand = <span class="keyword">new</span> <span class="constructor">GetFieldListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        getFieldListCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        getFieldListCommand.set<span class="constructor">TableId(<span class="params">mainTable</span>.<span class="params">getId</span>()</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getFieldListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// get the change stamp</span></span><br><span class="line">        <span class="comment">// this is required when we make any kind of changes to the repository        </span></span><br><span class="line">        <span class="built_in">int</span> changeStamp = getFieldListCommand.get<span class="constructor">ChangeStamp()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// retrieve the available regions (languages) for the repository</span></span><br><span class="line">        <span class="comment">// we need this to set up the field name for each region</span></span><br><span class="line">        GetRepositoryRegionListCommand getReposRegionListCommand = <span class="keyword">new</span> <span class="constructor">GetRepositoryRegionListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        getReposRegionListCommand.set<span class="constructor">RepositoryIdentifier(<span class="params">reposId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getReposRegionListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        RegionProperties<span class="literal">[]</span> regionPropertiesList = getReposRegionListCommand.get<span class="constructor">Regions()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// set up the field to create</span></span><br><span class="line">        FieldProperties newField = create<span class="constructor">FixedWidthField(<span class="params">mainTable</span>.<span class="params">getId</span>()</span>, regionPropertiesList);        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create the new field</span></span><br><span class="line">        CreateFieldCommand createFieldCommand = <span class="keyword">new</span> <span class="constructor">CreateFieldCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        createFieldCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        createFieldCommand.set<span class="constructor">Field(<span class="params">newField</span>)</span>;</span><br><span class="line">        createFieldCommand.set<span class="constructor">InChangeStamp(<span class="params">changeStamp</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            createFieldCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// finally destroy the session</span></span><br><span class="line">        DestroySessionCommand destroySessionCommand = <span class="keyword">new</span> <span class="constructor">DestroySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        destroySessionCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            destroySessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Modify-Field"><a href="#Modify-Field" class="headerlink" title="Modify Field"></a>Modify Field</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br></pre></td><td class="code"><pre><span class="line">package com.sap.mdm.examples;</span><br><span class="line"></span><br><span class="line">import java.util.Locale;</span><br><span class="line"></span><br><span class="line">import com.sap.mdm.commands.AuthenticateRepositorySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.CommandException;</span><br><span class="line">import com.sap.mdm.commands.CreateRepositorySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.DestroySessionCommand;</span><br><span class="line">import com.sap.mdm.commands.GetRepositoryRegionListCommand;</span><br><span class="line">import com.sap.mdm.data.MultilingualString;</span><br><span class="line">import com.sap.mdm.data.RegionProperties;</span><br><span class="line">import com.sap.mdm.data.RegionalString;</span><br><span class="line">import com.sap.mdm.ids.TableId;</span><br><span class="line">import com.sap.mdm.net.ConnectionException;</span><br><span class="line">import com.sap.mdm.net.ConnectionPool;</span><br><span class="line">import com.sap.mdm.net.ConnectionPoolFactory;</span><br><span class="line">import com.sap.mdm.schema.FieldKeywordType;</span><br><span class="line">import com.sap.mdm.schema.FieldProperties;</span><br><span class="line">import com.sap.mdm.schema.FieldSortType;</span><br><span class="line">import com.sap.mdm.schema.TableProperties;</span><br><span class="line">import com.sap.mdm.schema.commands.CreateFieldCommand;</span><br><span class="line">import com.sap.mdm.schema.commands.GetFieldListCommand;</span><br><span class="line">import com.sap.mdm.schema.commands.GetTableListCommand;</span><br><span class="line">import com.sap.mdm.schema.commands.ModifyFieldCommand;</span><br><span class="line">import com.sap.mdm.schema.fields.FixedWidthTextFieldProperties;</span><br><span class="line">import com.sap.mdm.server.DBMSType;</span><br><span class="line">import com.sap.mdm.server.RepositoryIdentifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Copyright Â© 2004-2006 by SAP AG.</span></span><br><span class="line"><span class="comment"> * All Rights Reserved.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * SAP, R/3, mySAP, mySAP.com, xApps, xApp, SAP NetWeaver, and other SAP</span></span><br><span class="line"><span class="comment"> * products and services mentioned herein as well as their respective logos are</span></span><br><span class="line"><span class="comment"> * trademarks or registered trademarks of SAP AG in Germany and in several other</span></span><br><span class="line"><span class="comment"> * countries all over the world. All other product and service names mentioned</span></span><br><span class="line"><span class="comment"> * are the trademarks of their respective companies. Data contained in this</span></span><br><span class="line"><span class="comment"> * document serves informational purposes only. National product specifications</span></span><br><span class="line"><span class="comment"> * may vary.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * These materials are subject to change without notice. These materials are</span></span><br><span class="line"><span class="comment"> * provided by SAP AG and its affiliated companies (SAP Group) for informational</span></span><br><span class="line"><span class="comment"> * purposes only, without representation or warranty of any kind, and SAP Group</span></span><br><span class="line"><span class="comment"> * shall not be liable for errors or omissions with respect to the materials.</span></span><br><span class="line"><span class="comment"> * The only warranties for SAP Group products and services are those that are</span></span><br><span class="line"><span class="comment"> * set forth in the express warranty statements accompanying such products and</span></span><br><span class="line"><span class="comment"> * services, if any. Nothing herein should be construed as constituting an</span></span><br><span class="line"><span class="comment"> * additional warranty.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This example demonstrates modifying a new field in the main table. The steps</span></span><br><span class="line"><span class="comment"> * are:</span></span><br><span class="line"><span class="comment"> * &lt;ol&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Establishes connection with MDM server&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Creates a session for the targeted repository&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Authenticates the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Selects the main table&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Creates the new field&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Modifies the new field&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Destroys the session&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment"> * Commands used:&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;AuthenticateRepositorySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetTableListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetFieldListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;GetRepositoryRegionListCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;CreateFieldCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;ModifyFieldCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;DestroySessionCommand&lt;/code&gt;&lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * &lt;a href=&quot;ModifyField.java&quot;&gt;Source code for ModifyField.java&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="keyword">class</span> ModifyField &#123;          </span><br><span class="line">    <span class="keyword">private</span> <span class="constructor">ModifyField()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a multi-lingual string based on the list of regions.</span></span><br><span class="line"><span class="comment">     * @param regionPropertiesList the list of regions</span></span><br><span class="line"><span class="comment">     * @param baseString the base string</span></span><br><span class="line"><span class="comment">     * @return a multi-lingual string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> static MultilingualString create<span class="constructor">MultilingualString(RegionProperties[] <span class="params">regionPropertiesList</span>, String <span class="params">baseString</span>)</span> &#123;</span><br><span class="line">        MultilingualString mlString = <span class="keyword">new</span> <span class="constructor">MultilingualString()</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; regionPropertiesList.length; i++) &#123;</span><br><span class="line">            Locale locale = regionPropertiesList<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">Locale()</span>;</span><br><span class="line">            String regionCode = regionPropertiesList<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">RegionCode()</span>;</span><br><span class="line">            String <span class="built_in">string</span> = baseString + <span class="string">&quot;_&quot;</span> + locale.get<span class="constructor">Language()</span> + <span class="string">&quot;_&quot;</span> + locale.get<span class="constructor">Country()</span>;</span><br><span class="line">            RegionalString regionalString = <span class="keyword">new</span> <span class="constructor">RegionalString(<span class="params">string</span>, <span class="params">regionCode</span>)</span>;</span><br><span class="line">            mlString.set(regionalString);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return mlString;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a fixed-width field.</span></span><br><span class="line"><span class="comment">     * @param tableId the table from which the field will be create in</span></span><br><span class="line"><span class="comment">     * @param regionPropertiesList the list of regions</span></span><br><span class="line"><span class="comment">     * @return the new fixed-width field</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> static FixedWidthTextFieldProperties create<span class="constructor">FixedWidthField(TableId <span class="params">tableId</span>, RegionProperties[] <span class="params">regionPropertiesList</span>)</span> &#123;</span><br><span class="line">        MultilingualString fieldName = create<span class="constructor">MultilingualString(<span class="params">regionPropertiesList</span>, <span class="string">&quot;NewField&quot;</span> + System.<span class="params">currentTimeMillis</span>()</span>);</span><br><span class="line"></span><br><span class="line">        FixedWidthTextFieldProperties field = <span class="keyword">new</span> <span class="constructor">FixedWidthTextFieldProperties()</span>;</span><br><span class="line">        field.set<span class="constructor">TableId(<span class="params">tableId</span>)</span>;        </span><br><span class="line">        field.set<span class="constructor">Name(<span class="params">fieldName</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">KeywordType(FieldKeywordType.NORMAL)</span>;        </span><br><span class="line">        field.set<span class="constructor">MultiLingual(<span class="params">true</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">ModifyOnce(<span class="params">true</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">Required(<span class="params">true</span>)</span>;</span><br><span class="line">        field.set<span class="constructor">SortType(FieldSortType.CASE_SENSITIVE)</span>;</span><br><span class="line">        field.set<span class="constructor">Width(60)</span>;        </span><br><span class="line">     </span><br><span class="line">        return field;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public static void main(String<span class="literal">[]</span> args) &#123;</span><br><span class="line">        <span class="comment">// create connection pool to a MDM server</span></span><br><span class="line">        String tag = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        ConnectionPool connections = null;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connections = <span class="module-access"><span class="module"><span class="identifier">ConnectionPoolFactory</span>.</span></span>get<span class="constructor">Instance(<span class="params">tag</span>)</span>;</span><br><span class="line">        &#125; catch (ConnectionException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// specify the repository to use</span></span><br><span class="line">        <span class="comment">// alternatively, a repository identifier can be obtain from the GetMountedRepositoryListCommand  </span></span><br><span class="line">        String repositoryName = <span class="string">&quot;TestRepos&quot;</span>;</span><br><span class="line">        String dbmsName = <span class="string">&quot;LOCALHOST&quot;</span>;</span><br><span class="line">        RepositoryIdentifier reposId = <span class="keyword">new</span> <span class="constructor">RepositoryIdentifier(<span class="params">repositoryName</span>, <span class="params">dbmsName</span>, DBMSType.MS_SQL)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create a repository session</span></span><br><span class="line">        CreateRepositorySessionCommand sessionCommand = <span class="keyword">new</span> <span class="constructor">CreateRepositorySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        sessionCommand.set<span class="constructor">RepositoryIdentifier(<span class="params">reposId</span> )</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line">        String sessionId = sessionCommand.get<span class="constructor">RepositorySession()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// authenticate the repository session</span></span><br><span class="line">        String userName = <span class="string">&quot;Admin&quot;</span>;</span><br><span class="line">        String userPassword = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        AuthenticateRepositorySessionCommand authCommand = <span class="keyword">new</span> <span class="constructor">AuthenticateRepositorySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">UserName(<span class="params">userName</span>)</span>;</span><br><span class="line">        authCommand.set<span class="constructor">UserPassword(<span class="params">userPassword</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            authCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// retrieve the list of tables and pick the main table for creating a new field</span></span><br><span class="line">        GetTableListCommand tableListCommand = <span class="keyword">new</span> <span class="constructor">GetTableListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        tableListCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            tableListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;                </span><br><span class="line"></span><br><span class="line">        TableProperties mainTable = null;</span><br><span class="line">        TableProperties<span class="literal">[]</span> tables = tableListCommand.get<span class="constructor">Tables()</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; tables.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tables<span class="literal">[<span class="identifier">i</span>]</span>.get<span class="constructor">Type()</span><span class="operator"> == </span>TableProperties.MAIN)</span><br><span class="line">                mainTable = tables<span class="literal">[<span class="identifier">i</span>]</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// retrieve the list of fields from the main table</span></span><br><span class="line">        <span class="comment">// this is useful for resolving conflicting field names the new field might create</span></span><br><span class="line">        GetFieldListCommand getFieldListCommand = <span class="keyword">new</span> <span class="constructor">GetFieldListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        getFieldListCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        getFieldListCommand.set<span class="constructor">TableId(<span class="params">mainTable</span>.<span class="params">getId</span>()</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getFieldListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// get the change stamp</span></span><br><span class="line">        <span class="comment">// this is required when we make any kind of changes to the repository        </span></span><br><span class="line">        <span class="built_in">int</span> changeStamp = getFieldListCommand.get<span class="constructor">ChangeStamp()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// retrieve the available regions (languages) for the repository</span></span><br><span class="line">        <span class="comment">// we need this to set up the field name for each region</span></span><br><span class="line">        GetRepositoryRegionListCommand getReposRegionListCommand = <span class="keyword">new</span> <span class="constructor">GetRepositoryRegionListCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        getReposRegionListCommand.set<span class="constructor">RepositoryIdentifier(<span class="params">reposId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            getReposRegionListCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        RegionProperties<span class="literal">[]</span> regionPropertiesList = getReposRegionListCommand.get<span class="constructor">Regions()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// set up the field to create</span></span><br><span class="line">        FieldProperties newField = create<span class="constructor">FixedWidthField(<span class="params">mainTable</span>.<span class="params">getId</span>()</span>, regionPropertiesList);        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create the new field</span></span><br><span class="line">        CreateFieldCommand createFieldCommand = <span class="keyword">new</span> <span class="constructor">CreateFieldCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        createFieldCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        createFieldCommand.set<span class="constructor">Field(<span class="params">newField</span>)</span>;</span><br><span class="line">        createFieldCommand.set<span class="constructor">InChangeStamp(<span class="params">changeStamp</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            createFieldCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// a new change stamp is required.  </span></span><br><span class="line">        changeStamp = createFieldCommand.get<span class="constructor">OutChangeStamp()</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// setup the field for modification</span></span><br><span class="line">        FixedWidthTextFieldProperties modifiedField = (FixedWidthTextFieldProperties) newField;</span><br><span class="line">        modifiedField.set<span class="constructor">Width(100)</span>;</span><br><span class="line">        modifiedField.set<span class="constructor">Required(<span class="params">false</span>)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// modify the field</span></span><br><span class="line">        ModifyFieldCommand modifyFieldCommand = <span class="keyword">new</span> <span class="constructor">ModifyFieldCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        modifyFieldCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        modifyFieldCommand.set<span class="constructor">InChangeStamp(<span class="params">changeStamp</span>)</span>;</span><br><span class="line">        modifyFieldCommand.set<span class="constructor">Field(<span class="params">modifiedField</span>)</span>;        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            modifyFieldCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// finally destroy the session</span></span><br><span class="line">        DestroySessionCommand destroySessionCommand = <span class="keyword">new</span> <span class="constructor">DestroySessionCommand(<span class="params">connections</span>)</span>;</span><br><span class="line">        destroySessionCommand.set<span class="constructor">Session(<span class="params">sessionId</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            destroySessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/retrive-limited-records-on-sap-mdm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/retrive-limited-records-on-sap-mdm/" class="post-title-link" itemprop="url">retrive_limited_records_on_sap_mdm</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 17:50:15 / Modified: 17:51:41" itemprop="dateCreated datePublished" datetime="2021-11-02T17:50:15+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Retrive-limited-records-and-modify-attributes"><a href="#Retrive-limited-records-and-modify-attributes" class="headerlink" title="Retrive limited records and modify attributes"></a>Retrive limited records and modify attributes</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">public void test<span class="constructor">Search(HashSet <span class="params">itemList</span>)</span> &#123;</span><br><span class="line">        long startTime = <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>current<span class="constructor">TimeMillis()</span>;</span><br><span class="line">        FieldSearchDimension productIDSearchDimension = <span class="keyword">new</span> <span class="constructor">FieldSearchDimension(<span class="params">repSchema</span>.<span class="params">getFieldId</span>(TABLEID_PRODUCTS, <span class="string">&quot;ProductID&quot;</span>)</span>);</span><br><span class="line"></span><br><span class="line">        Set idList = itemList;</span><br><span class="line">        Iterator&lt;String&gt; it = idList.iterator<span class="literal">()</span>;</span><br><span class="line">        <span class="built_in">int</span> lastPageIndex = idList.size<span class="literal">()</span> % PAGE_SIZE<span class="operator"> == </span><span class="number">0</span> ? idList.size<span class="literal">()</span><span class="operator"> / </span>PAGE_SIZE : idList.size<span class="literal">()</span><span class="operator"> / </span>PAGE_SIZE + <span class="number">1</span>;</span><br><span class="line">        ResultDefinition rd = <span class="keyword">new</span> <span class="constructor">ResultDefinition(<span class="params">tableId</span>)</span>;</span><br><span class="line">        FieldId<span class="literal">[]</span> fieldIds = <span class="keyword">new</span> FieldId<span class="literal">[]</span>&#123;fieldProductID, fieldIdOriDB, fieldIdSentToEnovia, fieldIdSendToPCIR, fieldIdP20Relevant&#125;;</span><br><span class="line">        rd.set<span class="constructor">SelectFields(<span class="params">fieldIds</span>)</span>;</span><br><span class="line">        Search search = <span class="keyword">new</span> <span class="constructor">Search(<span class="params">tableId</span>)</span>;</span><br><span class="line">        RetrieveLimitedRecordsCommand rlrc = <span class="keyword">new</span> <span class="constructor">RetrieveLimitedRecordsCommand(<span class="params">connection</span>)</span>;</span><br><span class="line">        <span class="built_in">int</span> pageIdx = <span class="number">0</span>;</span><br><span class="line">        rlrc.set<span class="constructor">PageSize(PAGE_SIZE)</span>;</span><br><span class="line">        rlrc.set<span class="constructor">ResultDefinition(<span class="params">rd</span>)</span>;</span><br><span class="line">        <span class="built_in">int</span> updateConuntNEPEPLM = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> updateConuntPCIR = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> updateConuntP20 = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> updateConuntSentToEnovia = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> pageIndex = <span class="number">0</span>; pageIndex &lt; lastPageIndex; pageIndex++) &#123;</span><br><span class="line">            <span class="built_in">int</span> count = <span class="number">0</span>;</span><br><span class="line">            Set&lt;String&gt; searchSet = <span class="keyword">new</span> HashSet&lt;String&gt;(idList.size<span class="literal">()</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (count = <span class="number">0</span>; count &lt; PAGE_SIZE<span class="operator"> &amp;&amp; </span>idList.size<span class="literal">()</span> &gt; <span class="number">0</span>; count++) &#123;</span><br><span class="line">                String s = it.next<span class="literal">()</span>;</span><br><span class="line">                searchSet.add(s);</span><br><span class="line">                SearchConstraint scProductId = <span class="keyword">new</span> <span class="constructor">TextSearchConstraint(<span class="params">s</span>, TextSearchConstraint.EQUALS)</span>;</span><br><span class="line">                search.add<span class="constructor">SearchItem(<span class="params">productIDSearchDimension</span>, <span class="params">scProductId</span>)</span>;</span><br><span class="line">                it.remove<span class="literal">()</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            rlrc.set<span class="constructor">Search(<span class="params">search</span>)</span>;</span><br><span class="line">            rlrc.set<span class="constructor">Session(<span class="params">session</span>)</span>;</span><br><span class="line">            rlrc.set<span class="constructor">PageIndex(0)</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rlrc.execute<span class="literal">()</span>;</span><br><span class="line">            &#125; catch (CommandException e) &#123;</span><br><span class="line">                e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">                logger.error(e.get<span class="constructor">Message()</span>);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            Record<span class="literal">[]</span> records = rlrc.get<span class="constructor">Records()</span>.get<span class="constructor">Records()</span>;</span><br><span class="line">            <span class="keyword">for</span> (Record record : records) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">Boolean</span>.</span></span>value<span class="constructor">Of(String.<span class="params">valueOf</span>(<span class="params">record</span>.<span class="params">getFieldValue</span>(<span class="params">fieldIdSendToPCIR</span>)</span>))) &#123;</span><br><span class="line">                        updateConuntPCIR++;</span><br><span class="line">                        record.set<span class="constructor">FieldValue(<span class="params">fieldIdSendToPCIR</span>, <span class="params">new</span> BooleanValue(Boolean.<span class="params">valueOf</span>(VALUE_Send_To_PCIR)</span>));</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">Boolean</span>.</span></span>value<span class="constructor">Of(String.<span class="params">valueOf</span>(<span class="params">record</span>.<span class="params">getFieldValue</span>(<span class="params">fieldIdP20Relevant</span>)</span>))) &#123;</span><br><span class="line">                        updateConuntP20++;</span><br><span class="line">                        record.set<span class="constructor">FieldValue(<span class="params">fieldIdP20Relevant</span>, <span class="params">new</span> BooleanValue(Boolean.<span class="params">valueOf</span>(VALUE_P20_Relevant)</span>));</span><br><span class="line">                    &#125;</span><br><span class="line">                    record.set<span class="constructor">FieldValue(<span class="params">fieldIdSentToEnovia</span>, <span class="params">new</span> BooleanValue(Boolean.<span class="params">valueOf</span>(VALUE_Sent_To_Enovia)</span>));</span><br><span class="line">                    <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">Boolean</span>.</span></span>value<span class="constructor">Of(String.<span class="params">valueOf</span>(<span class="params">record</span>.<span class="params">getFieldValue</span>(<span class="params">fieldIdSentToEnovia</span>)</span>))) &#123;</span><br><span class="line">                        updateConuntSentToEnovia++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    record.set<span class="constructor">FieldValue(<span class="params">fieldIdOriDB</span>, <span class="params">new</span> LookupValue(<span class="params">recordOriDBNEP</span>.<span class="params">getId</span>()</span>));</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="string">&quot;NEP&quot;</span>.equals<span class="constructor">IgnoreCase(String.<span class="params">valueOf</span>(<span class="params">record</span>.<span class="params">getLookupDisplayValue</span>(<span class="params">fieldIdOriDB</span>)</span>))) &#123;</span><br><span class="line">                        updateConuntNEPEPLM++;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    logger.debug(<span class="string">&quot;item&quot;</span> + record.get<span class="constructor">FieldValue(<span class="params">fieldProductID</span>)</span> + <span class="string">&quot;,pcir:&quot;</span> + <span class="module-access"><span class="module"><span class="identifier">String</span>.</span></span>value<span class="constructor">Of(<span class="params">record</span>.<span class="params">getFieldValue</span>(<span class="params">fieldIdSendToPCIR</span>)</span>) + <span class="string">&quot;,oridb:&quot;</span> + <span class="module-access"><span class="module"><span class="identifier">String</span>.</span></span>value<span class="constructor">Of(<span class="params">record</span>.<span class="params">getLookupDisplayValue</span>(<span class="params">fieldIdOriDB</span>)</span>));</span><br><span class="line">                    logger.debug(<span class="string">&quot;sent to enovia:&quot;</span> + <span class="module-access"><span class="module"><span class="identifier">String</span>.</span></span>value<span class="constructor">Of(<span class="params">record</span>.<span class="params">getFieldValue</span>(<span class="params">fieldIdSentToEnovia</span>)</span>));</span><br><span class="line">                    logger.debug(<span class="string">&quot;,p20:&quot;</span> + <span class="module-access"><span class="module"><span class="identifier">String</span>.</span></span>value<span class="constructor">Of(<span class="params">record</span>.<span class="params">getFieldValue</span>(<span class="params">fieldIdP20Relevant</span>)</span>));</span><br><span class="line"></span><br><span class="line">                &#125; catch (Exception e) &#123;</span><br><span class="line">                    e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">                    logger.error(<span class="string">&quot;MDM Value Type Exception::&quot;</span> + e.get<span class="constructor">Message()</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ModifyRecordsCommand modifyRecordsCommand = <span class="keyword">new</span> <span class="constructor">ModifyRecordsCommand(<span class="params">connection</span>)</span>;</span><br><span class="line">            modifyRecordsCommand.set<span class="constructor">Records(<span class="params">records</span>)</span>;</span><br><span class="line">            modifyRecordsCommand.set<span class="constructor">Session(<span class="params">session</span>)</span>;</span><br><span class="line">            modifyRecordsCommand.set<span class="constructor">TableId(<span class="params">tableId</span>)</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                modifyRecordsCommand.execute<span class="literal">()</span>;</span><br><span class="line">            &#125; catch (CommandException e) &#123;</span><br><span class="line">                e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">                logger.error(e.get<span class="constructor">Message()</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">int</span><span class="literal">[]</span> crFailed = modifyRecordsCommand.get<span class="constructor">Result()</span>.get<span class="constructor">FailedRecords()</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (crFailed != null<span class="operator"> &amp;&amp; </span>crFailed.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                logger.info(<span class="string">&quot;modifyRecords: No. of records failed:&quot;</span> + crFailed.length);</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; crFailed.length; i++) &#123;</span><br><span class="line">                    <span class="built_in">int</span> j = crFailed<span class="literal">[<span class="identifier">i</span>]</span>;</span><br><span class="line">                    logger.info(<span class="string">&quot;modifyRecords: failed messages:&quot;</span> + modifyRecordsCommand.get<span class="constructor">Result()</span>.get<span class="constructor">FailedRecordMessage(<span class="params">j</span>)</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//Get Succeded Records</span></span><br><span class="line">            <span class="built_in">int</span> crSuccess<span class="literal">[]</span> = modifyRecordsCommand.get<span class="constructor">Result()</span>.get<span class="constructor">SucceededRecords()</span>;</span><br><span class="line">            <span class="keyword">if</span> (crSuccess != null<span class="operator"> &amp;&amp; </span>crSuccess.length &gt; <span class="number">0</span>)</span><br><span class="line">                logger.info(<span class="string">&quot;modifyRecords: No. of records succeeded:&quot;</span> + crSuccess.length);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        DestroySessionCommand destroySessionCommand = <span class="keyword">new</span> <span class="constructor">DestroySessionCommand(<span class="params">connection</span>)</span>;</span><br><span class="line">        destroySessionCommand.set<span class="constructor">Session(<span class="params">session</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            destroySessionCommand.execute<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (CommandException e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            logger.error(e.get<span class="constructor">Message()</span>);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        long endTime = <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>current<span class="constructor">TimeMillis()</span>;</span><br><span class="line"></span><br><span class="line">        logger.info(<span class="string">&quot;update nep item number::&quot;</span> + updateConuntNEPEPLM);</span><br><span class="line">        logger.info(<span class="string">&quot;update sent to enovia item number::&quot;</span> + updateConuntSentToEnovia);</span><br><span class="line">        logger.info(<span class="string">&quot;update P20 Relevant item number::&quot;</span> + updateConuntP20);</span><br><span class="line">        logger.info(<span class="string">&quot;update attribute send to pcir to N,,Total number:&quot;</span> + updateConuntPCIR);</span><br><span class="line">        logger.info(<span class="string">&quot;update attribute values done in alpim, total time::&quot;</span> + (endTime - startTime)<span class="operator"> / </span><span class="number">1000</span> + <span class="string">&quot;s&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/SVN-Commands/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/SVN-Commands/" class="post-title-link" itemprop="url">SVN_Commands</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 17:45:35 / Modified: 17:47:50" itemprop="dateCreated datePublished" datetime="2021-11-02T17:45:35+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SVN/" itemprop="url" rel="index"><span itemprop="name">SVN</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Got-detail-of-repository"><a href="#Got-detail-of-repository" class="headerlink" title="Got detail of repository"></a>Got detail of repository</h2><pre><code>svn info
</code></pre>
<h2 id="change-svn-branch-within-same-repository"><a href="#change-svn-branch-within-same-repository" class="headerlink" title="change svn branch within same repository"></a>change svn branch within same repository</h2><pre><code>svn switch NEW_BRANCH_URL
svn cleanup
</code></pre>
<h2 id="change-location-with-different-repository"><a href="#change-location-with-different-repository" class="headerlink" title="change location with different repository"></a>change location with different repository</h2><pre><code>svn switch --relocate CURRENT_URL NEW_URL
</code></pre>
<blockquote>
<p>Note: Be careful when using the –relocate option. If you mistype the argument, you might end up creating nonsensical URLs within your working copy that render the whole workspace unusable and tricky to fix. It’s also important to understand exactly when one should or shouldn’t use –relocate. Here’s the rule of thumb:</p>
</blockquote>
<ol>
<li><p>If the working copy needs to reflect a new directory within the repository, use just svn switch.</p>
</li>
<li><p>If the working copy still reflects the same repository directory, but the location of the repository itself has changed, use svn switch with the –relocate option.</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/StringUtilsInEnovia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/StringUtilsInEnovia/" class="post-title-link" itemprop="url">StringUtil In Enovia</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 17:01:57 / Modified: 17:03:26" itemprop="dateCreated datePublished" datetime="2021-11-02T17:01:57+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Enovia/" itemprop="url" rel="index"><span itemprop="name">Enovia</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="StringUtil-in-Enovia-2013xE"><a href="#StringUtil-in-Enovia-2013xE" class="headerlink" title="StringUtil in Enovia 2013xE"></a>StringUtil in Enovia 2013xE</h2><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.matrixone.apps.domain.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.matrixone.util.Security;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"><span class="keyword">import</span> matrix.util.Mime64;</span><br><span class="line"><span class="keyword">import</span> matrix.util.StringItr;</span><br><span class="line"><span class="keyword">import</span> matrix.util.<span class="keyword">StringList</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> class StringUtil &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> FIELD_SEPARATOR = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> RECORD_SEPARATOR = <span class="string">&quot;;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    StringUtil() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> <span class="built_in">join</span>(<span class="keyword">StringList</span> var0, <span class="keyword">String</span> var1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (var0.<span class="built_in">size</span>() == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">String</span>)var0.elementAt(<span class="number">0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (var1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                var1 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">int</span> var2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            StringItr var3;</span><br><span class="line">            <span class="keyword">for</span>(var3 = <span class="keyword">new</span> StringItr(var0); var3.next(); var2 += var3.obj().length()) &#123;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            StringBuffer var4 = <span class="keyword">new</span> StringBuffer(var2 + var0.<span class="built_in">size</span>() * var1.length());</span><br><span class="line">            var3.reset();</span><br><span class="line">            <span class="keyword">if</span> (var3.next()) &#123;</span><br><span class="line">                var4.<span class="built_in">append</span>(var3.obj());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(var3.next()) &#123;</span><br><span class="line">                var4.<span class="built_in">append</span>(var1);</span><br><span class="line">                var4.<span class="built_in">append</span>(var3.obj());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> var4.toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> <span class="built_in">join</span>(<span class="keyword">String</span>[] var0, <span class="keyword">String</span> var1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (var0.length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> var0[<span class="number">0</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (var1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                var1 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">int</span> var2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> var3 = <span class="number">0</span>; var3 &lt; var0.length; ++var3) &#123;</span><br><span class="line">                var2 += var0[var3].length();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            StringBuffer var5 = <span class="keyword">new</span> StringBuffer(var2 + var0.length * var1.length());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> var4 = <span class="number">0</span>; var4 &lt; var0.length; ++var4) &#123;</span><br><span class="line">                <span class="keyword">if</span> (var4 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    var5.<span class="built_in">append</span>(var1);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                var5.<span class="built_in">append</span>(var0[var4]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> var5.toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> <span class="built_in">join</span>(List var0, <span class="keyword">String</span> var1, <span class="keyword">String</span> var2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (var1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            var1 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (var2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            var2 = <span class="string">&quot;;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        StringBuffer var3 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        Iterator var4 = var0.iterator();</span><br><span class="line">        <span class="keyword">if</span> (var4.hasNext()) &#123;</span><br><span class="line">            var3.<span class="built_in">append</span>(<span class="built_in">join</span>((<span class="keyword">StringList</span>)var4.next(), var1));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(var4.hasNext()) &#123;</span><br><span class="line">            var3.<span class="built_in">append</span>(var2);</span><br><span class="line">            var3.<span class="built_in">append</span>(<span class="built_in">join</span>((<span class="keyword">StringList</span>)var4.next(), var1));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> var3.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> <span class="built_in">join</span>(<span class="keyword">StringList</span> var0, <span class="keyword">StringList</span> var1, <span class="keyword">String</span> var2, <span class="keyword">String</span> var3) &#123;</span><br><span class="line">        <span class="keyword">if</span> (var2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            var2 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (var3 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            var3 = <span class="string">&quot;;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        StringBuffer var4 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        Iterator var5 = var0.iterator();</span><br><span class="line">        Iterator var6 = var1.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(var5.hasNext() &amp;&amp; var6.hasNext()) &#123;</span><br><span class="line">            var4.<span class="built_in">append</span>((<span class="keyword">String</span>)var5.next());</span><br><span class="line">            var4.<span class="built_in">append</span>(var2);</span><br><span class="line">            var4.<span class="built_in">append</span>((<span class="keyword">String</span>)var6.next());</span><br><span class="line">            var4.<span class="built_in">append</span>(var3);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> var4.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">StringList</span> <span class="built_in">split</span>(<span class="keyword">String</span> var0, <span class="keyword">String</span> var1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (var0 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">StringList</span>(<span class="number">0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (var1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                var1 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            StringTokenizer var2 = <span class="keyword">new</span> StringTokenizer(var0, var1, <span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">StringList</span> var3 = <span class="keyword">new</span> <span class="keyword">StringList</span>(var2.countTokens());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">String</span> var4;</span><br><span class="line">            <span class="keyword">String</span> var5;</span><br><span class="line">            <span class="keyword">for</span>(var5 = <span class="keyword">null</span>; var2.hasMoreTokens(); var5 = var4) &#123;</span><br><span class="line">                var4 = var2.nextToken();</span><br><span class="line">                <span class="keyword">if</span> (var1.equals(var4)) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (var1.equals(var5)) &#123;</span><br><span class="line">                        var3.addElement(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    var3.addElement(var4);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (var1.equals(var5)) &#123;</span><br><span class="line">                var3.addElement(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> var3;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> List <span class="built_in">split</span>(<span class="keyword">String</span> var0, <span class="keyword">String</span> var1, <span class="keyword">String</span> var2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (var0 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">StringList</span>(<span class="number">0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (var1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                var1 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (var2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                var2 = <span class="string">&quot;;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            ArrayList var3 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">            Iterator var4 = <span class="built_in">split</span>(var0, var2).iterator();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(var4.hasNext()) &#123;</span><br><span class="line">                <span class="keyword">StringList</span> var5 = <span class="built_in">split</span>((<span class="keyword">String</span>)var4.next(), var1);</span><br><span class="line">                var3.<span class="built_in">add</span>(var5);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> var3;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">StringList</span> splitString(<span class="keyword">String</span> var0, <span class="keyword">String</span> var1) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">StringList</span> var2 = <span class="keyword">new</span> <span class="keyword">StringList</span>();</span><br><span class="line">        <span class="keyword">String</span> var3 = <span class="keyword">null</span>;</span><br><span class="line">        <span class="built_in">int</span> var4 = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> var5 = var1.length();</span><br><span class="line">        <span class="built_in">boolean</span> var6 = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (var0 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> var2;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (var1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                var1 = <span class="string">&quot;~&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">int</span> var7 = var0.length();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> var8 = <span class="number">0</span>; var4 != <span class="number">-1</span> &amp;&amp; var4 &lt; var7; var2.addElement(var3.<span class="built_in">trim</span>())) &#123;</span><br><span class="line">                <span class="built_in">int</span> var9;</span><br><span class="line">                <span class="keyword">if</span> (var4 == <span class="number">0</span> &amp;&amp; var8 == <span class="number">0</span>) &#123;</span><br><span class="line">                    var9 = var4;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    var9 = var4 + var5;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                ++var8;</span><br><span class="line">                var4 = var0.indexOf(var1, var9);</span><br><span class="line">                <span class="keyword">if</span> (var4 != <span class="number">-1</span>) &#123;</span><br><span class="line">                    var3 = var0.substring(var9, var4);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    var3 = var0.substring(var9, var7);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (var3 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    var3 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> var2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> encrypt(<span class="keyword">String</span> var0) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> Mime64.encode(Security.encrypt(var0.getBytes()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> decrypt(<span class="keyword">String</span> var0) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">String</span>(Security.deCrypt(Mime64.decode(var0)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.ddong.online/2021/11/02/SAP-MDM-Stop-Server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Damon Tung">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DT's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/02/SAP-MDM-Stop-Server/" class="post-title-link" itemprop="url">SAP_MDM_Stop_Server</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-02 15:51:34 / Modified: 15:53:03" itemprop="dateCreated datePublished" datetime="2021-11-02T15:51:34+08:00">2021-11-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SAP/" itemprop="url" rel="index"><span itemprop="name">SAP</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <pre><code>package com.sap.mdm.examples;

import com.sap.mdm.commands.AuthenticateServerSessionCommand;
import com.sap.mdm.commands.CommandException;
import com.sap.mdm.commands.CreateServerSessionCommand;
import com.sap.mdm.net.ConnectionException;
import com.sap.mdm.net.ConnectionPool;
import com.sap.mdm.net.ConnectionPoolFactory;
import com.sap.mdm.server.commands.StopServerCommand;

/*
 * Copyright Â© 2004-2006 by SAP AG.
 * All Rights Reserved.
 * 
 * SAP, R/3, mySAP, mySAP.com, xApps, xApp, SAP NetWeaver, and other SAP
 * products and services mentioned herein as well as their respective logos are
 * trademarks or registered trademarks of SAP AG in Germany and in several other
 * countries all over the world. All other product and service names mentioned
 * are the trademarks of their respective companies. Data contained in this
 * document serves informational purposes only. National product specifications
 * may vary.
 * 
 * These materials are subject to change without notice. These materials are
 * provided by SAP AG and its affiliated companies (SAP Group) for informational
 * purposes only, without representation or warranty of any kind, and SAP Group
 * shall not be liable for errors or omissions with respect to the materials.
 * The only warranties for SAP Group products and services are those that are
 * set forth in the express warranty statements accompanying such products and
 * services, if any. Nothing herein should be construed as constituting an
 * additional warranty.
 * 
 */

/**
 * This example demonstrates shutting down the MDM server. The steps are:
 * &lt;ol&gt;
 * &lt;li&gt;Establishes connection with the MDM server&lt;/li&gt;
 * &lt;li&gt;Creates a server session&lt;/li&gt;
 * &lt;li&gt;Authenticates the server session&lt;/li&gt;
 * &lt;li&gt;Stops the MDM server&lt;/li&gt;
 * &lt;/ol&gt;
 * Commands used:&lt;br&gt;
 * &lt;code&gt;CreateServerSessionCommand&lt;/code&gt;&lt;br&gt;
 * &lt;code&gt;AuthenticateServerSessionCommand&lt;/code&gt;&lt;br&gt;
 * &lt;code&gt;StopServerCommand&lt;/code&gt;&lt;br&gt;
 * &lt;br&gt;
 * &lt;a href=&quot;StopServer.java&quot;&gt;Source code for StopServer.java&lt;/a&gt;
 */
public class StopServer &#123;        
private StopServer() &#123;
&#125;

public static void main(String[] args) &#123;
    // create connection pool
    String connectionTag = &quot;LOCALHOST&quot;;
    ConnectionPool connections = null;
    try &#123;
        connections = ConnectionPoolFactory.getInstance(connectionTag);
    &#125; catch (ConnectionException e) &#123;
        e.printStackTrace();
        return;
    &#125;

    // create server session
    CreateServerSessionCommand sessionCommand = new CreateServerSessionCommand(connections);
    try &#123;
        sessionCommand.execute();
    &#125; catch (CommandException e) &#123;
        e.printStackTrace();
        return;
    &#125;        
    String sessionId = sessionCommand.getSession();
    
    // authenticate the repository session
    String userName = &quot;Admin&quot;;
    String userPassword = &quot;&quot;;
    AuthenticateServerSessionCommand authCommand = new AuthenticateServerSessionCommand(connections);
    authCommand.setSession(sessionId);
    authCommand.setUserName(userName);
    authCommand.setUserPassword(userPassword);
    try &#123;
        authCommand.execute();
    &#125; catch (CommandException e) &#123;
        e.printStackTrace();
        return;
    &#125;        

    // stop the MDM server
    StopServerCommand stopServerCommand = new StopServerCommand(connections);
    stopServerCommand.setSession(sessionId);
    try &#123;
        stopServerCommand.execute();
    &#125; catch (CommandException e) &#123;
        e.printStackTrace();
        return;
    &#125;
&#125;
&#125;
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Damon Tung</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Damon Tung</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
